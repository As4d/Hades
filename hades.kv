#:kivy 2.0.0

WindowManager:
    MenuScreen:
    RunSelectionScreen:
    SearchVulnerableFileNamesScreen:
    SimulateAttackScreen:


<MenuScreen>:
    
    name: 'Menu'

    Label:
        text: 'Menu'
        size_hint: 0.1, 0.1
        pos_hint: {'x': 0.05,'y': 0.9}
        font_size: 32
    
    BoxLayout:

        orientation: 'horizontal'
        cols: 2
        pos_hint: {'x': 0.125,'y': 0.25}
        size_hint: 0.75 , 0.25
        
        Button:
            id: exitButton
            text: 'Exit'
            font_size: 32
            background_color: (100, 0, 0, 0.5)
            on_release: app.stop()
        
        Button:
            id: testButton1
            text: 'Settings'
            font_size: 32
            background_color: (100, 0, 0, 0.5)

    BoxLayout:

        orientation: 'horizontal'
        cols: 2
        pos_hint: {'x': 0.125,'y': 0.5}
        size_hint: 0.75 , 0.25

        Button:
            id: runButton
            text: 'Run'
            font_size: 32
            background_color: (100, 0, 0, 0.5)
            on_release: 
                app.root.current = 'RunSelectionScreen'
                root.manager.transition.direction = 'left'
        
        BoxLayout:

            orientation: 'vertical' 

            Label:
                size_hint: 0.1, 0.1
                pos_hint: {'x': 0.1,'y': 0.9}
                id: machineInfo
                text: 'Machine Info'
            
            Label:
                id: machineName
                text: 'MachineName:'
                font_size: 16
            
            Label:
                id: lastScan
                text: 'Last Scan:'
                font_size: 16


<RunSelectionScreen>:

    name: 'RunSelectionScreen'

    Label:
        text: 'Run'
        size_hint: 0.1, 0.1
        pos_hint: {'x': 0.05,'y': 0.9}
        font_size: 32
    
    BoxLayout:

        orientation: 'horizontal'
        cols: 2
        pos_hint: {'x': 0.125,'y': 0.25}
        size_hint: 0.75 , 0.25
        
        Button:
            id: backToMenuButton
            text: 'Back to menu'
            font_size: 24
            background_color: (100, 0, 0, 0.5)
            on_release: 
                app.root.current = 'Menu'
                root.manager.transition.direction = 'right'
        
        Button:
            id: testButton1
            text: 'Scan Settings'
            font_size: 24
            background_color: (100, 0, 0, 0.5)

    BoxLayout:

        orientation: 'horizontal'
        cols: 2
        pos_hint: {'x': 0.125,'y': 0.5}
        size_hint: 0.75 , 0.25

        Button:
            
            id: runScan
            text: 'Simulate attack'
            font_size: 24
            background_color: (100, 0, 0, 0.5)
            on_release:
                app.root.current = 'SimulateAttack'
                root.manager.transition.direction = 'left'
            
        Button:
            
            id: runSearchVulnerableFileNames
            text: 'Search for vulnerable fileNames'
            font_size: 18
            background_color: (100, 0, 0, 0.5)
            on_release:
                app.root.current = 'SearchVulnerableFileNames'
                root.manager.transition.direction = 'left'


<SearchVulnerableFileNamesScreen>:
    
    name: 'SearchVulnerableFileNames'

    BoxLayout:

        orientation: 'vertical'
        pos_hint: {'x': 0,'y': 0.125}
        size_hint: 1, 0.975

        Label:

            id: progressLabel
            text: ''
            font_size: 32
        
        ProgressBar:

            id: progressBar
            value: 0
            min: 0
            max: 100
    
    Button:
        id: backButton
        pos_hint: {'x': 0,'y': 0.025}
        size_hint: 0.25 , 0.1
        text: 'Back'
        font_size: 32
        background_color: (100, 0, 0, 0.5)
        on_release: 
            app.root.current = 'RunSelectionScreen'
            root.manager.transition.direction = 'right'
    
    Button:
        id: runSearchVulnerableFileNamesButton
        pos_hint: {'x': 0.375,'y': 0.025}
        size_hint: 0.25 , 0.1
        text: 'Run'
        font_size: 32
        background_color: (100, 0, 0, 0.5)
        on_release: root.runSearchVulnerableFileNames()


<SimulateAttackScreen>:
    
    name: 'SimulateAttack'

    BoxLayout:

        orientation: 'vertical'
        pos_hint: {'x': 0,'y': 0.125}
        size_hint: 1, 0.975

        Label:

            id: progressLabel
            text: ''
            font_size: 32
        
        ProgressBar:

            id: progressBar
            value: 0
            min: 0
            max: 100
    
    Button:
        id: backButton
        pos_hint: {'x': 0,'y': 0.025}
        size_hint: 0.25 , 0.1
        text: 'Back'
        font_size: 32
        background_color: (100, 0, 0, 0.5)
        on_release: 
            app.root.current = 'RunSelectionScreen'
            root.manager.transition.direction = 'right'
    
    Button:
        id: runSimulateAttackButton
        pos_hint: {'x': 0.375,'y': 0.025}
        size_hint: 0.25 , 0.1
        text: 'Run'
        font_size: 32
        background_color: (100, 0, 0, 0.5)
        on_release: root.runSimulateAttack()
